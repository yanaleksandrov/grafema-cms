Класс **Asset** предназначен для подключения JS и CSS файлов. 
Рекомендуется использовать именно его для этих целей, так как
имеет преимущества перед подключением напрямую через теги 
`<link rel="">` или `<script src=""></script>`.

Плюс в том, что вы получаете гибкость в управлении этими ресурсами:
можно переопределять последовательность подключения, избавиться от конфликтов
связанных с зависимостями, оптимизировать и объединять файлы, контролировать отсутствие дублей подключений.
И всё это из любой точки приложения.

> Важная ремарка. Во frontend части Grafema CMS отсутствует подключение ресурсов
"по умолчанию". Будь то jQuery (привет WordPress), React, Vue или другой фреймворк.
Такой подход позволяет иметь полную свободу над содержимым вебсайта. С другой стороны,
Grafema CMS поставляется вместе с упомянутыми и другими популярными библиотеками.
О том, как их подключить смотрите ниже.

## Состояния ресурсов

У каждого ресурса есть два состояния: добавленный в очередь (enqueued) и используемый (used).

Добавленный в очередь — это состояние, при котором ресурс только загружен в хранилище **Asset**.
Это означает, что **Asset** знает о существовании этих ресурсов, но не будет подключать их к документу во время рендеринга.

Используемый — это состояние, при котором **Asset** подключит эти ресурсы и их зависимости к документу во время рендеринга.

Ресурс не может быть использован, если ранее он не был зарегистрирован.

## Добавление ресурса в очередь

Используйте метод `enqueue`.

```php
Asset::enqueue( $id, $src, $version );
```

**$id** *(строка) (обязательный)*: Строка в стиле "kebabcase" в нижнем регистре. Уникальный для ресурса идентификатор.

**$src** *(строка) (обязательный)*: УРЛ файла скрипта. Например: `http://example.com/themes/my-theme/my-theme-script.js`.

	Не нужно писать УРЛ жестко, он должен определяться динамически. Для этого используйте функции получения URL:
	- [plugins_url()](/function/plugins_url) - для плагинов
	- [get_template_directory_uri()](/function/get_template_directory_uri) - для тем.

	Ссылки на внешние скрипты можно указывать без указания протокола: `//cdn.otherdomain.com/js/their-script.js`.

	*По умолчанию: ''*

**$version** *(строка)*: Строка указывающая версию скрипта, если она у него есть. Этот параметр используется чтобы удостовериться, что клиент получил верную версию скрипта, а не из кеша.

	Если параметр не указан, то в качестве версии скрипта будет использована версия Grafema.
	Если указать `null`, то никакая версия не будет добавлена.
 	*По умолчанию: false*

## Примеры подключения

### #1 Динамическое определение версии файла

Чтобы при изменении файла, URL файла отличался и он загрузился в браузер как новый, а не брался из кэша, можно указать версию файла динамически на основе времени изменения файла:

```php
Asset::enqueue( 'main', 'path/to-file/main.js', filemtime( 'path/to-file/main.js' ) );
```

### #2 Загружаем скрипт с нестандартного адреса через CDN

Допустим, вы хотите вместо библиотеки jQuery из состава Grafema подключить её CDN-копию.

```php
Asset::override( 'jquery', '//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js' );
```

### #3 Регистрируем штатный скрипт "alpine.js"

```php
Asset::enqueue( 'alpine' );
```

### #4 Загружаем ресурсы только в файлах шаблона

Допустим мы хотим подключать CSS стили по требованию: только если файл шаблона участвует в рендере текущей страницы.

```php
Hook::add( 'grafema_view_part', function( $filepath, $template, $args ) {
    $asset = sprtintf( '%s/%s.css', basename( $filepath ), $template );
    if ( file_exists( $asset ) ) {
        Asset::enqueue( 'main', sprtintf( 'path/to-file/%s.js', $template ) );
    }
} );
```

### #5 Удаление версии скрипта или файла стилей из URL

При регистрации скрипта ему указывается версия (по умолчанию, текущая версия Grafema), например: /assets/js/alpine.js?ver=2025.1. Такую версию можно вырезать из ссылки на скрипт или файл стилей. Удаление всех версия у всех скриптов (и стилей):

```php
TODO
```

### #6 Добавление инлайн контента

```php
TODO
```

## Использование ресурса



## Подключение библиотек и фреймворков

Grafema поставляется вместе с некоторыми популярными библиотеками и фреймворками.
При разработке тем и плагинов рекомендуется подключать их стандартным способом, 
а не включать их непосредственно в проект. Это разделение позволит избежать дублирования подключения.

