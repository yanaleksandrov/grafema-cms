!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Datepicker=t()}(this,(function(){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function n(e,t){var n=(t||document).querySelectorAll(e);return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n))}function i(e,t){var n=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;return n&&n.call(e,t)}function a(e,t,n){for(var a=n&&!n.contains(e);e&&!a;){if(i(e,t))return e;a=n&&!n.contains(e.parentNode),e=e.parentNode}return!1}function r(e,t){e.classList.add.apply(e.classList,t.split(" ").filter(Boolean))}function s(e,t){e.classList.remove.apply(e.classList,t.split(" ").filter(Boolean))}function o(e,t,n){void 0===n&&(n=!function(e,t){return t&&e.classList.contains(t)}(e,t)),t&&(n?r(e,t):s(e,t))}function l(e){return e%4==0&&e%100!=0||e%400==0}function d(e,t){return e instanceof Date&&(t=e.getMonth(),e=e.getFullYear()),[31,l(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]}function u(e,t,n){for(var i=0;i<t.length;i++){var a=e,r=t[i];if("year"==n?(a=a.getFullYear(),r=r.getFullYear()):"month"==n?(a=a.getMonth(),r=r.getMonth()):(a=a.getTime(),r=r.getTime()),a==r)return!0}return!1}function h(e,t){return e.getTime()-t.getTime()}function c(e){return!!e&&e instanceof Date&&!isNaN(e.getTime())}function p(e){return g(e,(function(e){return e&&e.setHours(0,0,0,0),e}))}function m(e,t){var n=e=new Date(e);e>(t=new Date(t))&&(e=t,t=n,n=e);for(var i=[new Date(n)];n<t;)n.setDate(n.getDate()+1),i.push(new Date(n));return i}function f(t){if("object"==(void 0===t?"undefined":e(t))&&null!==t){var n=Object.getPrototypeOf(t);return n===Object.prototype||null===n}return!1}function v(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var a=n[0],r=n.slice(1),s=0;s<r.length;s++)for(var o in r[s])void 0!==a[o]&&"object"===e(r[s][o])&&null!==r[s][o]&&void 0===r[s][o].nodeName?(r[s][o]instanceof Date&&(a[o]=new Date(r[s][o].getTime())),Array.isArray(r[s][o])?a[o]=r[s][o].slice(0):a[o]=v(a[o],r[s][o])):a[o]=r[s][o];return a}function g(e,t,n){var i=[].concat(e).map(t,n);return 1===i.length?i[0]:i}function _(e,t){var n=new Function("obj","var p=[],print=function(){p.push.apply( p,arguments );};with( obj ){p.push( '"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/( ( ^|%> )[^\t]* )'/g,"$1\r").replace(/\t=( .*? )%>/g,"',$1,'").split("\t").join("' );").split("%>").join("p.push( '").split("\r").join("\\'")+"' );}return p.join( '' );");return t?n(t):n}var y={inline:!1,multiple:!1,ranged:!1,time:!1,timeInput:!0,timeAmPm:!0,openOn:"today",min:!1,max:!1,within:!1,without:!1,yearRange:5,months:3,minutesStep:15,weekStart:0,defaultTime:{start:[12,0],end:[23,0]},separator:",",serialize:function(e){return e},deserialize:function(e){return new Date(e)},toValue:!1,fromValue:!1,onInit:!1,onChange:!1,onRender:!1,lang:(navigator.language||navigator.userLanguage||"en-US").substr(0,2).toLowerCase(),i18n:{ampm:[],months:[],weekdays:[]},classNames:{node:"datepicker",wrapper:"datepicker__wrapper",calendar:"datepicker__calendar",inline:"is-inline",selected:"is-selected",disabled:"is-disabled",otherMonth:"is-otherMonth",weekend:"is-weekend",today:"is-today",start:"is-start",end:"is-end"},templates:{month:['<div class="datepicker__month">',"<%= renderHeader() %>","<%= renderMonth() %>","</div>"].join(""),header:['<div class="datepicker__header">','<a class="datepicker__prev<%= ( hasPrev ) ? "" : " is-disabled" %>" data-prev>&lsaquo;</a>','<span class="datepicker__title"><%= renderMonthSelect() %></span>','<span class="datepicker__title"><%= renderYearSelect() %></span>','<a class="datepicker__next<%= ( hasNext ) ? "" : " is-disabled" %>" data-next>&rsaquo;</a>',"</div>"].join(""),time:['<div class="datepicker__timepicker">',"<%= renderTimepicker() %>","</div>"].join(""),timepicker:['<div class="datepicker__timebox">','<div class="datepicker__time">',"<%= renderHourSelect() %> : ","<%= renderMinuteSelect() %>","</div>","<%= renderPeriodSelect() %>","</div>"].join(""),calendar:['<div class="datepicker__box">',"<table>","<thead>","<tr>","<% weekdays.forEach( function( name ) { %>","<th><%= name %></th>","<% } ); %>","</tr>","</thead>","<tbody>","<% days.forEach( function( day, i ) { %>",'<%= ( i % 7 == 0 ) ? "<tr>" : "" %>',"<%= renderDay( day ) %>",'<%= ( i % 7 == 6 ) ? "</tr>" : "" %>',"<% } ); %>","</tbody>","</table>","</div>"].join(""),day:['<% classNames.unshift( "datepicker__day" ); %>','<td class="<%= classNames.join( " " ) %>" data-day="<%= timestamp %>">',"<span><%= daynum %></span>","</td>"].join("")}};function w(e,t){var n=t.classNames.inline;return this.node&&(o(this.node,n,e),this.wrapper.style.position=e?"":"absolute",this.wrapper.style.display=e?"":"none"),this._isOpen=e,e}function b(e,t){var n=e.node,i=e.inline,a=e.wrapper,r=t.inline;if(this.node)for(var s in e)switch(s){case"node":case"inline":this.node.className=n+(r?" "+i:"");break;case"wrapper":this.wrapper.className=a}return e}function D(e,t){var n=t.deserialize;return!!c(e=!!e&&g(e,n,this))&&e}function k(e,t){var n=t.deserialize;return e.length&&(e=p(g(e,n,this)),e=[].concat(e).filter(c)),!!e.length&&e}function T(e,t){var n=t.deserialize;if("string"!=typeof e||/^( first|last|today )$/.test(e)||c(e=n.call(this,e))||(e=new Date),!this._month){var i=e;"string"!=typeof i&&c(i)||(i=new Date),(i=p(new Date(i.getTime()))).setDate(1),this._month=i}return e}function x(e){return Math.min(Math.max(e,0),6)}function M(e,t){return f(e)?v({},e,t.defaultTime):{start:e.slice(0),end:e.slice(0)}}function N(e){return"function"==typeof e&&e.bind(this)}function S(e){for(var t in e)"select"!==t&&(this._renderers[t]=_(e[t]));return e}function E(e,t,n){var i=[];if("months"===e){for(var a=0;a<12;a++){var r=new Date(Date.UTC(2e3,a,1,0,0,0)),s=new Intl.DateTimeFormat(t.lang,{month:"long"}).format(r);i.push(s[0].toUpperCase()+s.substring(1))}t.i18n.months=i}if("ampm"===e){var o=new Date(Date.UTC(2e3,1,1,0,0,0)),l=new Date(Date.UTC(2e3,1,1,12,0,0)),d=new Intl.DateTimeFormat(t.lang,{hour:"numeric",minute:"numeric"}).formatRangeToParts(o,l);for(var u of d)"dayPeriod"===u.type&&i.push(u.value.toUpperCase());i.length||(i=["AM","PM"]),t.i18n.ampm=i}if("weekdays"===e){for(var h=1;h<=7;h++){r=new Date(Date.UTC(2020,10,h,0,0,0)),s=new Intl.DateTimeFormat(t.lang,{weekday:"short"}).format(r);i.push(s[0].toUpperCase()+s.substring(1))}1===t.weekStart&&i.push(i.shift())}return void 0!==n?i[n]:i}var j=function(){function e(t,i){var a=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"==typeof t){if("#"!=t.substr(0,1))return n(t).map((function(e){return new a.constructor(e,i)}));t=document.getElementById(t.substr(1))}t||(t=document.createElement("input")),"input"!==t.tagName.toLowerCase()||/input|hidden/i.test(t.type)||(t.type="text"),this._initDOM(t),this._initOptions(i),this._initEvents(),this.setValue(t.value||t.dataset.value||""),this._opts.onInit&&this._opts.onInit(t)}return t(e,[{key:"_initOptions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._opts={};var n=D.bind(this),i=k.bind(this);this._set={openOn:T.bind(this),inline:w.bind(this),weekstart:x.bind(this),min:n,max:n,within:i,without:i,defaultTime:M.bind(this),classNames:b.bind(this),templates:S.bind(this)};["serialize","deserialize","onInit","onChange","onRender","setValue","getValue"].forEach((function(t){return e._set[t]=N.bind(this)})),this._renderers={select:_(['<select data-<%= type %>="<%= value %>" data-index="<%= index %>">',"<% options.forEach( function( o ) { %>",'<option value="<%= o.value %>"','<%= o.selected ? " selected" : "" %> <%= o.disabled ? " disabled" : "" %>',"><%= o.text %></option>","<% } ); %>","</select>"].join("")),input:_(['<input type="text" data-<%= type %>="<%= value %>" data-index="<%= index %>" value="<%= value %>">'].join(""))},this.set(v({},this.constructor.defaults,function(e){var t=function(e){return e.trim()},n={};if(!e||!e.dataset)return n;for(var i in e.dataset){var a=e.dataset[i];/true|false/.test(a.toLowerCase())?a="true"==a.toLowerCase():"["==a[0]&&"]"==a.substr(-1)?a=g(a.substr(1,a.length-2).split(","),t):/^\d*$/.test(a)&&(a=parseInt(a,10)),n[i]=a}return n}(this._el),t))}},{key:"_initDOM",value:function(e){this.node||(this._el=e,this.node=document.createElement("div"),this.node.style.position="relative",this.wrapper=document.createElement("div"),this.wrapper.style.zIndex=9999,e.parentNode&&e.parentNode.insertBefore(this.node,e),this.node.appendChild(e),this.node.appendChild(this.wrapper))}},{key:"_initEvents",value:function(){var e=this;this._isInitialized||(this._highlighted=[],"input"!==this._el.tagName.toLowerCase()?this._el.addEventListener("click",(function(){return e.toggle()})):this._el.addEventListener("focus",(function(){return e.open()})),document.addEventListener("mousedown",(function(t){e.node.contains(t.target)||e.hide()})),this.node.onselectstart=function(){return!1},this.node.addEventListener("mousedown",this._onmousedown.bind(this)),this.node.addEventListener("mousemove",this._onmousemove.bind(this)),this.node.addEventListener("mouseup",this._onmouseup.bind(this)),this.node.addEventListener("click",this._onclick.bind(this)),this.node.addEventListener("input",this._oninput.bind(this)),this._isInitialized=!0)}},{key:"_onmousedown",value:function(e){var t=this._opts,i=t.ranged,o=t.classNames.selected,l=a(e.target,"[data-day]",this.wrapper),d=l?parseInt(l.dataset.day,10):null;if(3==e.which||2==e.button)return!1;d&&(i&&this._dragStart?(n('[data-day="'+d+'"]',this.wrapper).forEach((function(e){r(e,t.classNames.end)})),this._onmousemove(e)):(this._deselect=!i&&this.hasDate(new Date(d)),this._highlighted=[d],this._dragStart=d,t.multiple||n("[data-day]."+o,this.wrapper).forEach((function(e){s(e,o),s(e,t.classNames.start),s(e,t.classNames.end)})),n('[data-day="'+d+'"]',this.wrapper).forEach((function(e){r(e,t.classNames.start),r(e,t.classNames.end)}))))}},{key:"_onmousemove",value:function(e){var t=this,i=this._opts,r=i.ranged,s=i.classNames.selected;if(r||i.multiple){var l=a(e.target,"[data-day]",this.wrapper),d=l?parseInt(l.dataset.day,10):null;d&&this._dragStart&&(this._highlighted=m(this._dragStart,d).map((function(e){return e.getTime()})),this._isDragging=d!==this._dragStart,n("[data-day]."+s,this.wrapper).forEach((function(e,n,i){var a=new Date(parseInt(e.dataset.day,10));o(e,s,!r&&t.hasDate(a))})),this._highlighted.forEach((function(e){n('[data-day="'+e+'"]',t.wrapper).forEach((function(e){o(e,s,!t._deselect)}))})))}}},{key:"_onmouseup",value:function(e){var t=this._opts,n=t.ranged,i=t.multiple;if(this._dragStart&&a(e.target,"[data-day]",this.node)){var r=this._highlighted.map((function(e){return new Date(e)}));n||!i?this.setDate(r):this.toggleDate(r,!this._deselect),this.render(),i||n&&!this._isDragging||this.hide()}n&&!this._isDragging||(this._highlighted=[],this._dragStart=null),this._isDragging=!1}},{key:"_onclick",value:function(e){var t=this,i=e.target;i.hasAttribute("data-prev")?this.prev(i.dataset.prev):i.hasAttribute("data-next")?this.next(i.dataset.next):i.hasAttribute("data-year")&&!i.onchange?i.onchange=function(){var e=i.dataset.year,n=t._month.getFullYear();t._month.setFullYear(parseInt(i.value)-(e-n)),t.render()}:i.hasAttribute("data-month")&&!i.onchange?i.onchange=function(){t._month.setMonth(i.value-i.dataset.index),t.render()}:i.hasAttribute("data-hour")&&!i.onchange?i.onchange=function(){t.setTime(i.dataset.hour,i.value)}:i.hasAttribute("data-minute")&&!i.onchange?i.onchange=function(){t.setTime(i.dataset.minute,null,i.value)}:i.hasAttribute("data-period")&&!i.onchange&&(i.onchange=function(){var e=i.dataset.period,a="am"===i.value?-12:12;n('[data-hour="'+e+'"] option',t.wrapper).forEach((function(e){e.value=parseInt(e.value)+a})),t.setTime(e,(t._time?t._time[e][0]:0)+a)})}},{key:"_oninput",value:function(e){var t=e.target;if("INPUT"===t.nodeName){var n=23;t.dataset.hour&&this._opts.timeAmPm&&(n=12),t.dataset.minute&&(n=59),function(e,t){for(var n=String(t),i=(e.selectionStart,["^([0-9]"]),a=0;a<=parseInt(n[0]);a++)a===parseInt(n[0])?i.push("|"+a+"[0-"+n[1]+"]"):i.push("|"+a+"[0-9]");i.push(")$");var r=i.join(""),s=new RegExp(r);e.value[0]>n[0]&&(e.value="0"+e.value);var o=s.test(e.value);(!o||e.value.length>2)&&(e.value=e.value.slice(0,-1));var l=e.nextElementSibling;2===e.value.length&&o&&l&&"INPUT"===l.nodeName&&(l.focus(),l.setSelectionRange(0,0))}(t,n)}}},{key:"set",value:function(e,t){if(e){if(f(e)){for(var n in this._noRender=!0,e.serialize&&(this.set("serialize",e.serialize),delete e.serialize),e.deserialize&&(this.set("deserialize",e.deserialize),delete e.deserialize),e)this.set(n,e[n]);this._noRender=!1,t=this._opts}else{var i=v({},this.constructor.defaults,this._opts);e in this._set&&(t=this._set[e](t,i)),f(t)&&(t=v({},i[e],t)),this._opts[e]=t}return this._isOpen&&this.wrapper&&this.render(),t}}},{key:"get",value:function(e){var t=this;if(arguments.length>1)return[].concat(Array.prototype.slice.call(arguments)).reduce((function(e,n){return e[n]=t.get(n),e}),{});var n=this._opts[e];return f(n)&&(n=v({},n)),n}},{key:"open",value:function(e){var t=[].concat(this.getDate());"string"==typeof(e=e||this._opts.openOn||this._month)&&("first"===(e=e.toLowerCase())&&t.length?e=t[0]:"last"===e&&t.length?e=t[t.length-1]:"today"!==e&&(e=this._opts.deserialize(e))),c(e)||(e=new Date),this.setTime(!!this._selected.length),this.goToDate(e),this.render(),this.show()}},{key:"show",value:function(){if(!this._opts.inline){this.wrapper.style.display="block";var e=this.node.getBoundingClientRect(),t=this._el.getBoundingClientRect(),n=t.bottom-e.top+"px",i=e.bottom-t.top+"px";Object.assign(this.wrapper.style,{top:n,right:"",bottom:"",left:0});var a=this.wrapper.getBoundingClientRect(),r=a.right>window.innerWidth,s=a.bottom>window.innerHeight;Object.assign(this.wrapper.style,{top:s?"":n,right:r?0:"",bottom:s?i:"",left:r?"":0});var o=(a=this.wrapper.getBoundingClientRect()).right>=a.width,l=a.bottom>a.height;Object.assign(this.wrapper.style,{top:s&&l?"":n,right:r&&o?0:"",bottom:s&&l?i:"",left:r&&o?"":0}),this._isOpen=!0}}},{key:"hide",value:function(){this._opts.inline||(this.wrapper.style.display="none",this._isOpen=!1)}},{key:"toggle",value:function(){this._isOpen?this.hide():this.open()}},{key:"next",value:function(e){var t=new Date(this._month.getTime());e=Math.max(e||1,1),t.setMonth(t.getMonth()+e),this.goToDate(t)}},{key:"prev",value:function(e){var t=new Date(this._month.getTime());e=Math.max(e||1,1),t.setMonth(t.getMonth()-e),this.goToDate(t)}},{key:"goToDate",value:function(e){(e=p(this._opts.deserialize(e))).setDate(1),this._month=e,this._isOpen&&this.render(),this._opts.onNavigate&&this._opts.onNavigate(e)}},{key:"hasDate",value:function(e){return e=p(c(e)?e:this._opts.deserialize(e)),!!this._selected&&this._selected.indexOf(e.getTime())>-1}},{key:"addDate",value:function(e){this.toggleDate(e,!0)}},{key:"removeDate",value:function(e){this.toggleDate(e,!1)}},{key:"toggleDate",value:function(e,t){var n=this,i=this._opts,a=i.ranged,r=i.multiple,s=[].concat(e);s=(s=s.map((function(e){return c(e)?e:i.deserialize(e)}))).filter((function(e){return c(e)&&n.dateAllowed(e)})),a?s=(s=s.concat(this.getDate()).sort(h)).length?m(s[0],s.pop()):[]:r||(s=s.slice(0,1)),s.map((function(e){return p(e).getTime()})).forEach((function(e){var i=n._selected.indexOf(e),s=i>-1;s||!1===t?s&&!0!==t&&n._selected.splice(i,1):a||r?n._selected.push(e):n._selected=[e]})),this._update()}},{key:"_update",value:function(){var e=this._opts.onChange;"input"===this._el.nodeName.toLowerCase()?this._el.value=this.getValue():this._el.dataset.value=this.getValue(),e&&e(this.getDate())}},{key:"getDate",value:function(){var e=this._opts,t=this._time?this._time.start:[0,0];if(this._selected=(this._selected||[]).sort(),e.multiple||e.ranged){var n=this._selected.map((function(e){return new Date(e)}));if(e.time&&n.length&&(n[0].setHours(t[0],t[1]),n.length>1)){var i=this._time?this._time.end:[0,0];n[n.length-1].setHours(i[0],i[1])}return n}if(this._selected.length){var a=new Date(this._selected[0]);return a.setHours(t[0],t[1]),a}}},{key:"setDate",value:function(e){this._selected=[],this.addDate(e)}},{key:"setTime",value:function(e,t,n){var i=this._opts;i.time&&(!0!==e&&this._time||(this._time=v({},i.defaultTime)),e&&!0!==e&&("number"==typeof e&&(n=t,t=e,e="start"),e="end"===e?e:"start",t=!!t&&parseInt(t,10),n=!!n&&parseInt(n,10),t&&!isNaN(t)&&(this._time[e][0]=t),n&&!isNaN(n)&&(this._time[e][1]=n)),this._update())}},{key:"getValue",value:function(){var e=this._opts,t=e.toValue,n=[].concat(this.getDate()||[]);e.ranged&&n.length>1&&(n=[n[0],n.pop()]);var i=n.map(e.serialize).join(e.separator);return t&&(i=t(i,n)),i}},{key:"setValue",value:function(e){var t=this._opts,n=t.fromValue;this._selected=[];var i=n?n(e):e.split(t.separator).filter(Boolean).map(t.serialize);if(this.addDate(i),t.time&&i.length){var a=i.sort(h)[0];if(this.setTime("start",new Date(a).getHours(),new Date(a).getMinutes()),"ranged"===t.time||t.ranged){var r=i[i.length-1];this.setTime("end",new Date(r).getHours(),new Date(r).getMinutes())}}}},{key:"dateAllowed",value:function(e,t){var n=this._opts,i=n.min,a=n.max,r=n.within,s=n.without,o=void 0,l=o=!0;return e=p(c(e)?e:n.deserialize(e)),"month"==t?(l=!i||e.getMonth()>=i.getMonth(),o=!a||e.getMonth()<=a.getMonth()):"year"==t?(l=!i||e.getFullYear()>=i.getFullYear(),o=!a||e.getFullYear()<=a.getFullYear()):(l=!i||e>=i,o=!a||e<=a),l&&o&&(!s||!u(e,s,t))&&(!r||u(e,r,t))}},{key:"render",value:function(){var e=this,t=this._opts,n=t.time,i=0;if(!this._noRender&&this._renderers){var a={},r=function(t){return a[t]||(a[t]=e.getData(t))};for(this.wrapper.innerHTML="";i<t.months;i++)this.wrapper.innerHTML+=this._renderers.month({renderHeader:function(){return e._renderHeader(r(i))},renderMonth:function(){var t=r(i);return e._renderers.calendar(Object.assign({},t,{renderHeader:function(){return e._renderHeader(t)},renderDay:function(t){return e._renderers.day(t)}}))}});this.wrapper.innerHTML='<div class="'+t.classNames.calendar+'">'+this.wrapper.innerHTML+"</div>",this.wrapper.innerHTML+=this._renderers.time({renderTimepicker:function(){if(n){var i=""+e._renderTimepicker("start");return("ranged"===n||t.ranged)&&(i+=e._renderTimepicker("end")),i}}}),t.onRender&&t.onRender(this.wrapper.firstChild)}}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this._opts,n=t.i18n,i=new Date(this._month.getTime());i.setMonth(i.getMonth()+e);var a=i.getMonth(),r=i.getFullYear(),s=new Date(i.getTime());s.setMonth(s.getMonth()+1),s.setDate(1);var o=new Date(i.getTime());o.setMonth(o.getMonth()-1),o.setDate(d(o));for(var l=[],u=i.getDay()-t.weekStart;u<0;)u+=7;for(var h=d(r,a)+u;h%7;)h+=1;var c=p(new Date),m=this._selected;n.weekdays=n.weekdays[_]||E("weekdays",t);for(var f=0;f<h;f++){var v=new Date(r,a,f-u+1),g=v.getMonth(),_=v.getDay(),y=this.hasDate(v),w=!this.dateAllowed(v),b=g<a,D=g>a,k=!b&&!D,T=0===_||6===_,x=v.getTime()===c.getTime(),M=[];y&&M.push(t.classNames.selected),w&&M.push(t.classNames.disabled),k||M.push(t.classNames.otherMonth),T&&M.push(t.classNames.weekend),x&&M.push(t.classNames.today),void 0!==m&&(m[0]===v.getTime()&&M.push(t.classNames.start),m[m.length-1]===v.getTime()&&M.push(t.classNames.end)),l.push({_date:v,date:t.serialize(v),daynum:v.getDate(),timestamp:v.getTime(),weekday:n.weekdays[_],isSelected:y,isDisabled:w,isPrevMonth:b,isNextMonth:D,isThisMonth:k,isWeekend:T,isToday:x,classNames:M})}return{_date:i,index:e,year:r,month:n.months[a]||E("months",t,a),days:l,weekdays:n.weekdays,hasNext:!t.max||s<=t.max,hasPrev:!t.min||o>=t.min}}},{key:"_renderHeader",value:function(e){var t=this,n=this._opts,i=n.yearRange,a=n.i18n,r=e._date,s=e.index,o=e.year,l=r.getMonth();return this._renderers.header(Object.assign({},e,{renderMonthSelect:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,i=new Date(r.getTime()),o=[],d=0;d<12;d++)i.setMonth(d),o.push({text:a.months[d]||E("months",n,d),disabled:!t.dateAllowed(i,"month"),selected:d===l,value:d});return t._renderers.select({index:e,type:"month",text:a.months[l]||E("months",n,l),value:l,options:o})},renderYearSelect:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,n=new Date(r.getTime()),a=o-i,l=o+i,d=[];a<=l;a++)n.setFullYear(a),d.push({disabled:!t.dateAllowed(n,"year"),selected:a===o,value:a,text:a});return t._renderers.select({index:e,type:"year",text:o,value:o,options:d})}}))}},{key:"_renderTimepicker",value:function(e){var t=this,n=this._opts,i=n.i18n;if(n.time){this._time||this.setTime(!0);var a=this._time[e];return this._renderers.timepicker({renderHourSelect:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=[],r=a[0],s=n?24:12;if(t._opts.timeInput)return t._renderers.input({index:0,type:"hour",value:r<10?"0"+r:r});if(t._opts.timeAmPm){for(o=0;o<s;o++)i.push({text:n||o?o:"12",selected:r===o,disabled:!1,value:o});!n&&r>=12&&i.forEach((function(e){return e.selected=(e.value+=12)===r}))}else for(var o=0;o<24;o++)i.push({text:o,selected:r===o,disabled:!1,value:o});console.log(i);var l=i.filter((function(e){return e.selected}))[0].text;return t._renderers.select({index:0,type:"hour",value:e,options:i,text:l})},renderMinuteSelect:function(){for(var n=t._opts.minutesStep,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n>0&&n<31?n:15,r=[],s=a[1],o=0;o<60;o+=i)r.push({text:o<10?"0"+o:o,selected:s===o,disabled:!1,value:o});if(t._opts.timeInput)return t._renderers.input({index:null,type:"minute",value:s});var l=r.filter((function(e){return e.selected}))[0].text;return t._renderers.select({index:null,type:"minute",value:e,options:r,text:l})},renderPeriodSelect:function(){if(n.timeAmPm){var r=0!==i.ampm.length?i.ampm:E("ampm",n);return t._renderers.select({index:null,type:"period",text:a[0]>=12?r[1]:r[0],value:e,options:[{text:r[0],value:"am",selected:a[0]<12},{text:r[1],value:"pm",selected:a[0]>=12}]})}}})}}}]),e}();return j.defaults=y,j}));