document.addEventListener("alpine:init",(()=>{const e=(e,t,o)=>{const a=new URL(window.location.href),n=new URLSearchParams(a.search);o?n.delete(e):n.set(e,t),a.search=n.toString(),window.history.replaceState({},"",a.toString())},t=(t,o={},a="grafema-dialog")=>{setTimeout((()=>{let n=document.querySelector(`#${t}`),i=document.querySelector(`#${a}`);if(i&&n){let a=i.querySelector("[data-content]");a&&(a.innerHTML=n.innerHTML),Alpine.store("dialog",o),i.classList.add("active"),document.body.style.overflow="hidden",e("dialog",t,!1);const l=()=>{e("dialog",null,!0),i.removeEventListener("close",l)};i.addEventListener("close",l)}}),25)};Alpine.magic("dialog",(e=>({init:async o=>{const a=new URL(window.location.href),n=new URLSearchParams(a.search).get("dialog");if(e?.id===n&&n&&o){let e=await o();e&&t(n,e,"grafema-dialog")}},open:(e,o={},a)=>{t(e,o,a)},close:(t="grafema-dialog")=>{let o=document.querySelector(`#${t}`)||e.closest("dialog");o&&(o.classList.remove("active"),document.body.style.overflow="")}})))}));