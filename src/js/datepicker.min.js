!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Datepicker=t()}(this,function(){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var n=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};function s(e,t){e=(t||document).querySelectorAll(e);return[].concat(n(e))}function r(e,t,n){for(var i,a,s,r=n&&!n.contains(e);e&&!r;){if(a=t,s=void 0,(s=(i=e).matches||i.matchesSelector||i.webkitMatchesSelector||i.msMatchesSelector)&&s.call(i,a))return e;r=n&&!n.contains(e.parentNode),e=e.parentNode}return!1}function l(e,t){e.classList.add.apply(e.classList,t.split(" ").filter(Boolean))}function d(e,t){e.classList.remove.apply(e.classList,t.split(" ").filter(Boolean))}function h(e,t,n){var i,a;void 0===n&&(i=e,n=!((a=t)&&i.classList.contains(a))),t&&(n?l:d)(e,t)}function u(e){function t(e){return e.trim()}var n,i={};if(!e||!e.dataset)return i;for(n in e.dataset){var a=e.dataset[n];/true|false/.test(a.toLowerCase())?a="true"==a.toLowerCase():"["==a[0]&&"]"==a.substr(-1)?a=_(a.substr(1,a.length-2).split(","),t):/^\d*$/.test(a)&&(a=parseInt(a,10)),i[n]=a}return i}function x(e,t){return e instanceof Date&&(t=e.getMonth(),e=e.getFullYear()),[31,(e=e)%4==0&&e%100!=0||e%400==0?29:28,31,30,31,30,31,31,30,31,30,31][t]}function c(e,t,n){for(var i=0;i<t.length;i++){var a=e,s=t[i],s="year"==n?(a=a.getFullYear(),s.getFullYear()):"month"==n?(a=a.getMonth(),s.getMonth()):(a=a.getTime(),s.getTime());if(a==s)return!0}return!1}function p(e,t){return e.getTime()-t.getTime()}function f(e){return!!e&&e instanceof Date&&!isNaN(e.getTime())}function T(e){return _(e,function(e){return e&&e.setHours(0,0,0,0),e})}function m(e,t){var n=e=new Date(e);(t=new Date(t))<e&&(e=t,t=n,n=e);for(var i=[new Date(n)];n<t;)n.setDate(n.getDate()+1),i.push(new Date(n));return i}function g(e){if("object"==(void 0===e?"undefined":o(e))&&null!==e){e=Object.getPrototypeOf(e);return e===Object.prototype||null===e}}function v(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=t[0],a=t.slice(1),s=0;s<a.length;s++)for(var r in a[s])void 0!==i[r]&&"object"===o(a[s][r])&&null!==a[s][r]&&void 0===a[s][r].nodeName?(a[s][r]instanceof Date&&(i[r]=new Date(a[s][r].getTime())),Array.isArray(a[s][r])?i[r]=a[s][r].slice(0):i[r]=v(i[r],a[s][r])):i[r]=a[s][r];return i}function _(e,t,n){n=[].concat(e).map(t,n);return 1===n.length?n[0]:n}function y(e,t){e=new Function("obj","var p=[],print=function(){p.push.apply( p,arguments );};with( obj ){p.push( '"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/( ( ^|%> )[^\t]* )'/g,"$1\r").replace(/\t=( .*? )%>/g,"',$1,'").split("\t").join("' );").split("%>").join("p.push( '").split("\r").join("\\'")+"' );}return p.join( '' );");return t?e(t):e}var t=(new Date).getHours(),t={inline:!1,multiple:!1,ranged:!1,time:!1,timeInput:!0,openOn:"first",min:!1,max:!1,within:!1,without:!1,yearRange:5,months:3,weekStart:0,defaultTime:{start:[t,0],end:[t,0]},separator:",",serialize:function(e){return e},deserialize:function(e){return new Date(e)},toValue:!1,fromValue:!1,onInit:!1,onChange:!1,onRender:!1,lang:(navigator.language||navigator.userLanguage||"en-US").substr(0,2).toLowerCase(),i18n:{months:[],weekdays:[]},classNames:{node:"datepicker",wrapper:"datepicker__wrapper",inline:"is-inline",selected:"is-selected",disabled:"is-disabled",otherMonth:"is-otherMonth",weekend:"is-weekend",today:"is-today",start:"is-start",end:"is-end"},templates:{container:['<div class="datepicker__pane">',"<%= renderHeader() %>","<%= renderMonth() %>","</div>"].join(""),header:['<div class="datepicker__header">','<a class="datepicker__prev<%= ( hasPrev ) ? "" : " is-disabled" %>" data-prev>&lsaquo;</a>','<span class="datepicker__title"><%= renderMonthSelect() %></span>','<span class="datepicker__title"><%= renderYearSelect() %></span>','<a class="datepicker__next<%= ( hasNext ) ? "" : " is-disabled" %>" data-next>&rsaquo;</a>',"</div>"].join(""),time:['<div class="datepicker__timepicker">',"<%= renderTimepicker() %>","</div>"].join(""),timepicker:['<div class="datepicker__time">',"<%= renderHourSelect() %>:","<%= renderMinuteSelect() %>","<%= renderPeriodSelect() %>","</div>"].join(""),calendar:['<div class="datepicker__box">',"<table>","<thead>","<tr>","<% weekdays.forEach( function( name ) { %>","<th><%= name %></th>","<% } ); %>","</tr>","</thead>","<tbody>","<% days.forEach( function( day, i ) { %>",'<%= ( i % 7 == 0 ) ? "<tr>" : "" %>',"<%= renderDay( day ) %>",'<%= ( i % 7 == 6 ) ? "</tr>" : "" %>',"<% } ); %>","</tbody>","</table>","</div>"].join(""),day:['<% classNames.unshift( "datepicker__day" ); %>','<td class="<%= classNames.join( " " ) %>" data-day="<%= timestamp %>">',"<span><%= daynum %></span>","</td>"].join("")}};function M(e,t,n){var i=[];if("months"===e){for(var a=0;a<12;a++){var s=new Date(Date.UTC(2e3,a,1,0,0,0)),r=new Intl.DateTimeFormat(t.lang,{month:"long"}).format(s);i.push(r[0].toUpperCase()+r.substring(1))}t.i18n.months=i}if("weekdays"===e){for(var o=1;o<=7;o++){s=new Date(Date.UTC(2020,10,o,0,0,0)),r=new Intl.DateTimeFormat(t.lang,{weekday:"short"}).format(s);i.push(r[0].toUpperCase()+r.substring(1))}1===t.weekStart&&i.push(i.shift())}return void 0!==n?i[n]:i}e(w,[{key:"_initOptions",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._opts={};var n=function(e,t){return t=t.deserialize,!!f(e=!!e&&_(e,t,this))&&e}.bind(this),i=function(e,t){return t=t.deserialize,e.length&&(e=T(_(e,t,this)),e=[].concat(e).filter(f)),!!e.length&&e}.bind(this);this._set={openOn:function(e,t){return t=t.deserialize,"string"!=typeof e||/^( first|last|today )$/.test(e)||f(e=t.call(this,e))||(e=new Date),this._month||("string"!=typeof(t=e)&&f(t)||(t=new Date),(t=T(new Date(t.getTime()))).setDate(1),this._month=t),e}.bind(this),inline:function(e,t){return t=t.classNames.inline,this.node&&(h(this.node,t,e),this.wrapper.style.position=e?"":"absolute",this.wrapper.style.display=e?"":"none"),this._isOpen=e}.bind(this),weekstart:function(e){return Math.min(Math.max(e,0),6)}.bind(this),min:n,max:n,within:i,without:i,defaultTime:function(e,t){return g(e)?v({},e,t.defaultTime):{start:e.slice(0),end:e.slice(0)}}.bind(this),classNames:function(e,t){var n=e.node,i=e.inline,a=e.wrapper,s=t.inline;if(this.node)for(var r in e)switch(r){case"node":case"inline":this.node.className=n+(s?" "+i:"");break;case"wrapper":this.wrapper.className=a}return e}.bind(this),templates:function(e){for(var t in e)"select"!==t&&(this._renderers[t]=y(e[t]));return e}.bind(this)};["serialize","deserialize","onInit","onChange","onRender","setValue","getValue"].forEach(function(e){return t._set[e]=function(e){return"function"==typeof e&&e.bind(this)}.bind(this)}),this._renderers={select:y(['<select data-<%= type %>="<%= value %>" data-index="<%= index %>">',"<% options.forEach( function( o ) { %>",'<option value="<%= o.value %>"','<%= o.selected ? " selected" : "" %> <%= o.disabled ? " disabled" : "" %>',"><%= o.text %></option>","<% } ); %>","</select>"].join("")),input:y(['<input type="text" data-<%= type %>="<%= value %>" data-index="<%= index %>" value="<%= value %>">'].join(""))},this.set(v({},this.constructor.defaults,u(this._el),e))}},{key:"_initDOM",value:function(e){this.node||(this._el=e,this.node=document.createElement("div"),this.node.style.position="relative",this.wrapper=document.createElement("div"),this.wrapper.style.zIndex=9999,e.parentNode&&e.parentNode.insertBefore(this.node,e),this.node.appendChild(e),this.node.appendChild(this.wrapper))}},{key:"_initEvents",value:function(){var t=this;this._isInitialized||(this._highlighted=[],"input"!==this._el.tagName.toLowerCase()?this._el.addEventListener("click",function(){return t.toggle()}):this._el.addEventListener("focus",function(){return t.open()}),document.addEventListener("mousedown",function(e){t.node.contains(e.target)||t.hide()}),this.node.onselectstart=function(){return!1},this.node.addEventListener("mousedown",this._onmousedown.bind(this)),this.node.addEventListener("mousemove",this._onmousemove.bind(this)),this.node.addEventListener("mouseup",this._onmouseup.bind(this)),this.node.addEventListener("click",this._onclick.bind(this)),this.node.addEventListener("input",this._oninput.bind(this)),this._isInitialized=!0)}},{key:"_onmousedown",value:function(e){var t=this._opts,n=t.ranged,i=t.classNames.selected,a=r(e.target,"[data-day]",this.wrapper),a=a?parseInt(a.dataset.day,10):null;if(3==e.which||2==e.button)return!1;a&&(n&&this._dragStart?this._onmousemove(e):(this._deselect=!n&&this.hasDate(new Date(a)),this._highlighted=[a],this._dragStart=a,t.multiple||s("[data-day]."+i,this.wrapper).forEach(function(e){d(e,i),d(e,t.classNames.start),d(e,t.classNames.end)}),s('[data-day="'+a+'"]',this.wrapper).forEach(function(e){l(e,t.classNames.start),l(e,t.classNames.end)})))}},{key:"_onmousemove",value:function(e){var n=this,t=this._opts,i=t.ranged,a=t.classNames.selected;!i&&!t.multiple||1!==e.buttons||(e=(e=r(e.target,"[data-day]",this.wrapper))?parseInt(e.dataset.day,10):null)&&this._dragStart&&(this._highlighted=m(this._dragStart,e).map(function(e){return e.getTime()}),this._isDragging=e!==this._dragStart,s("[data-day]."+a,this.wrapper).forEach(function(e){var t=new Date(parseInt(e.dataset.day,10));h(e,a,!i&&n.hasDate(t))}),this._highlighted.forEach(function(e){s('[data-day="'+e+'"]',n.wrapper).forEach(function(e){h(e,a,!n._deselect)})}))}},{key:"_onmouseup",value:function(e){var t=this._opts,n=t.ranged,t=t.multiple;this._dragStart&&r(e.target,"[data-day]",this.node)&&(e=this._highlighted.map(function(e){return new Date(e)}),n||!t?this.setDate(e):this.toggleDate(e,!this._deselect),this.render(),t||n&&!this._isDragging||this.hide()),n&&!this._isDragging||(this._highlighted=[],this._dragStart=null),this._isDragging=!1}},{key:"_onclick",value:function(e){var n=this,i=e.target;i.hasAttribute("data-prev")?this.prev(i.dataset.prev):i.hasAttribute("data-next")?this.next(i.dataset.next):i.hasAttribute("data-year")&&!i.onchange?i.onchange=function(){var e=i.dataset.year,t=n._month.getFullYear();n._month.setFullYear(parseInt(i.value)-(e-t)),n.render()}:i.hasAttribute("data-month")&&!i.onchange?i.onchange=function(){n._month.setMonth(i.value-i.dataset.index),n.render()}:i.hasAttribute("data-hour")&&!i.onchange?i.onchange=function(){n.setTime(i.dataset.hour,i.value)}:i.hasAttribute("data-minute")&&!i.onchange?i.onchange=function(){n.setTime(i.dataset.minute,null,i.value)}:i.hasAttribute("data-period")&&!i.onchange&&(i.onchange=function(){var e=i.dataset.period,t="am"===i.value?-12:12;s('[data-hour="'+e+'"] option',n.wrapper).forEach(function(e){e.value=parseInt(e.value)+t}),n.setTime(e,(n._time?n._time[e][0]:0)+t)})}},{key:"_oninput",value:function(e){var t,e=e.target;"INPUT"===e.nodeName&&(e.dataset.hour&&(t=12),e.dataset.minute&&(t=59),function(e,t){var n=String(t),i=e.selectionStart;e.value=e.value.replace(/[^0-9]+/g,"");var a=e.nextElementSibling;e.value[0]&&(1===i&&(e.value=e.value[0]),2<e.value.length&&(e.value=e.value.slice(0,-1)),(e.value[0]>n[0]||2==i)&&"INPUT"===a.nodeName&&(a.focus(),a.setSelectionRange(0,0))),e.value>t&&(e.value=t)}(e,t,this._opts))}},{key:"set",value:function(e,t){if(e){if(g(e)){for(var n in this._noRender=!0,e.serialize&&(this.set("serialize",e.serialize),delete e.serialize),e.deserialize&&(this.set("deserialize",e.deserialize),delete e.deserialize),e)this.set(n,e[n]);this._noRender=!1,t=this._opts}else{var i=v({},this.constructor.defaults,this._opts);e in this._set&&(t=this._set[e](t,i)),g(t)&&(t=v({},i[e],t)),this._opts[e]=t}return this._isOpen&&this.wrapper&&this.render(),t}}},{key:"get",value:function(e){var n=this;if(1<arguments.length)return[].concat(Array.prototype.slice.call(arguments)).reduce(function(e,t){return e[t]=n.get(t),e},{});e=this._opts[e];return g(e)&&(e=v({},e)),e}},{key:"open",value:function(e){var t=[].concat(this.getDate());"string"==typeof(e=e||this._opts.openOn||this._month)&&("first"===(e=e.toLowerCase())&&t.length?e=t[0]:"last"===e&&t.length?e=t[t.length-1]:"today"!==e&&(e=this._opts.deserialize(e))),f(e)||(e=new Date),this.setTime(!!this._selected.length),this.goToDate(e),this.render(),this.show()}},{key:"show",value:function(){var e,t,n,i,a,s;this._opts.inline||(this.wrapper.style.display="block",i=this.node.getBoundingClientRect(),e=(a=this._el.getBoundingClientRect()).bottom-i.top+"px",t=i.bottom-a.top+"px",Object.assign(this.wrapper.style,{top:e,right:"",bottom:"",left:0}),n=(s=this.wrapper.getBoundingClientRect()).right>window.innerWidth,i=s.bottom>window.innerHeight,Object.assign(this.wrapper.style,{top:i?"":e,right:n?0:"",bottom:i?t:"",left:n?"":0}),a=(s=this.wrapper.getBoundingClientRect()).right>=s.width,s=s.bottom>s.height,Object.assign(this.wrapper.style,{top:i&&s?"":e,right:n&&a?0:"",bottom:i&&s?t:"",left:n&&a?"":0}),this._isOpen=!0)}},{key:"hide",value:function(){this._opts.inline||(this.wrapper.style.display="none",this._isOpen=!1)}},{key:"toggle",value:function(){this._isOpen?this.hide():this.open()}},{key:"next",value:function(e){var t=new Date(this._month.getTime());e=Math.max(e||1,1),t.setMonth(t.getMonth()+e),this.goToDate(t)}},{key:"prev",value:function(e){var t=new Date(this._month.getTime());e=Math.max(e||1,1),t.setMonth(t.getMonth()-e),this.goToDate(t)}},{key:"goToDate",value:function(e){(e=T(this._opts.deserialize(e))).setDate(1),this._month=e,this._isOpen&&this.render(),this._opts.onNavigate&&this._opts.onNavigate(e)}},{key:"hasDate",value:function(e){return e=T(f(e)?e:this._opts.deserialize(e)),!!this._selected&&-1<this._selected.indexOf(e.getTime())}},{key:"addDate",value:function(e){this.toggleDate(e,!0)}},{key:"removeDate",value:function(e){this.toggleDate(e,!1)}},{key:"toggleDate",value:function(e,i){var a=this,t=this._opts,s=t.ranged,r=t.multiple,e=[].concat(e);e=(e=e.map(function(e){return f(e)?e:t.deserialize(e)})).filter(function(e){return f(e)&&a.dateAllowed(e)}),s?e=(e=e.concat(this.getDate()).sort(p)).length?m(e[0],e.pop()):[]:r||(e=e.slice(0,1)),e.map(function(e){return T(e).getTime()}).forEach(function(e){var t=a._selected.indexOf(e),n=-1<t;n||!1===i?n&&!0!==i&&a._selected.splice(t,1):s||r?a._selected.push(e):a._selected=[e]}),this._update()}},{key:"_update",value:function(){var e=this._opts.onChange;"input"===this._el.nodeName.toLowerCase()?this._el.value=this.getValue():this._el.dataset.value=this.getValue(),e&&e(this.getDate())}},{key:"getDate",value:function(){var e=this._opts,t=this._time?this._time.start:[0,0];if(this._selected=(this._selected||[]).sort(),e.multiple||e.ranged){var n=this._selected.map(function(e){return new Date(e)});return e.time&&n.length&&(n[0].setHours(t[0],t[1]),1<n.length&&(e=this._time?this._time.end:[0,0],n[n.length-1].setHours(e[0],e[1]))),n}if(this._selected.length){n=new Date(this._selected[0]);return n.setHours(t[0],t[1]),n}}},{key:"setDate",value:function(e){this._selected=[],this.addDate(e)}},{key:"setTime",value:function(e,t,n){var i=this._opts;i.time&&(!0!==e&&this._time||(this._time=v({},i.defaultTime)),e&&!0!==e&&("number"==typeof e&&(n=t,t=e,e="start"),e="end"===e?e:"start",t=!!t&&parseInt(t,10),n=!!n&&parseInt(n,10),t&&!isNaN(t)&&(this._time[e][0]=t),n&&!isNaN(n)&&(this._time[e][1]=n)),this._update())}},{key:"getValue",value:function(){var e=this._opts,t=e.toValue,n=[].concat(this.getDate()||[]);e.ranged&&1<n.length&&(n=[n[0],n.pop()]);e=n.map(e.serialize).join(e.separator);return t&&(e=t(e,n)),e}},{key:"setValue",value:function(e){var t=this._opts,n=t.fromValue;this._selected=[];n=n?n(e):e.split(t.separator).filter(Boolean).map(t.serialize);this.addDate(n),t.time&&n.length&&(e=n.sort(p)[0],this.setTime("start",new Date(e).getHours(),new Date(e).getMinutes()),"ranged"!==t.time&&!t.ranged||(n=n[n.length-1],this.setTime("end",new Date(n).getHours(),new Date(n).getMinutes())))}},{key:"dateAllowed",value:function(e,t){var n=this._opts,i=n.min,a=n.max,s=n.within,r=n.without,o=void 0,l=o=!0;return e=T(f(e)?e:n.deserialize(e)),o="month"==t?(l=!i||e.getMonth()>=i.getMonth(),!a||e.getMonth()<=a.getMonth()):"year"==t?(l=!i||e.getFullYear()>=i.getFullYear(),!a||e.getFullYear()<=a.getFullYear()):(l=!i||i<=e,!a||e<=a),l&&o&&(!r||!c(e,r,t))&&(!s||c(e,s,t))}},{key:"render",value:function(){var t=this,n=this._opts,i=n.time,a=0;if(!this._noRender&&this._renderers){var s={},r=function(e){return s[e]||(s[e]=t.getData(e))};for(this.wrapper.innerHTML="";a<n.months;a++)this.wrapper.innerHTML+=this._renderers.container({renderHeader:function(){return t._renderHeader(r(a))},renderMonth:function(){var e=r(a);return t._renderers.calendar(Object.assign({},e,{renderHeader:function(){return t._renderHeader(e)},renderDay:function(e){return t._renderers.day(e)}}))}});this.wrapper.innerHTML+=this._renderers.time({renderTimepicker:function(){if(i){var e=t._renderTimepicker("start");return"ranged"!==i&&!n.ranged||(e+=t._renderTimepicker("end")),e}return""}}),n.onRender&&n.onRender(this.wrapper.firstChild)}}},{key:"getData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this._opts,n=t.i18n,i=new Date(this._month.getTime());i.setMonth(i.getMonth()+e);var a=i.getMonth(),s=i.getFullYear(),r=new Date(i.getTime());r.setMonth(r.getMonth()+1),r.setDate(1);var o=new Date(i.getTime());o.setMonth(o.getMonth()-1),o.setDate(x(o));for(var l=[],d=i.getDay()-t.weekStart;d<0;)d+=7;for(var h=x(s,a)+d;h%7;)h+=1;var u=T(new Date),c=this._selected;n.weekdays=n.weekdays[void 0]||M("weekdays",t);for(var p=0;p<h;p++){var f=new Date(s,a,p-d+1),m=f.getMonth(),g=f.getDay(),v=this.hasDate(f),_=!this.dateAllowed(f),y=m<a,w=a<m,b=!y&&!w,D=0===g||6===g,k=f.getTime()===u.getTime(),m=[];v&&m.push(t.classNames.selected),_&&m.push(t.classNames.disabled),b||m.push(t.classNames.otherMonth),D&&m.push(t.classNames.weekend),k&&m.push(t.classNames.today),void 0!==c&&(c[0]===f.getTime()&&m.push(t.classNames.start),c[c.length-1]===f.getTime()&&m.push(t.classNames.end)),l.push({_date:f,date:t.serialize(f),daynum:f.getDate(),timestamp:f.getTime(),weekday:n.weekdays[g],isSelected:v,isDisabled:_,isPrevMonth:y,isNextMonth:w,isThisMonth:b,isWeekend:D,isToday:k,classNames:m})}return{_date:i,index:e,year:s,month:n.months[a]||M("months",t,a),days:l,weekdays:n.weekdays,hasNext:!t.max||r<=t.max,hasPrev:!t.min||o>=t.min}}},{key:"_renderHeader",value:function(e){var s=this,a=this._opts,r=a.yearRange,o=a.i18n,l=e._date,d=e.index,h=e.year,u=l.getMonth();return this._renderers.header(Object.assign({},e,{renderMonthSelect:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d,t=new Date(l.getTime()),n=[],i=0;i<12;i++)t.setMonth(i),n.push({text:o.months[i]||M("months",a,i),disabled:!s.dateAllowed(t,"month"),selected:i===u,value:i});return s._renderers.select({index:e,type:"month",text:o.months[u]||M("months",a,u),value:u,options:n})},renderYearSelect:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d,t=new Date(l.getTime()),n=h-r,i=h+r,a=[];n<=i;n++)t.setFullYear(n),a.push({disabled:!s.dateAllowed(t,"year"),selected:n===h,value:n,text:n});return s._renderers.select({index:e,type:"year",text:h,value:h,options:a})}}))}},{key:"_renderTimepicker",value:function(r){var o=this;if(this._opts.time){this._time||this.setTime(!0);var l=this._time[r];return this._renderers.timepicker({renderHourSelect:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=[],n=l[0],i=e?24:12;if(o._opts.timeInput)return o._renderers.input({index:0,type:"hour",value:n<10?"0"+n:n});for(var a=0;a<i;a++)t.push({text:e||a?a:"12",selected:n===a,disabled:!1,value:a});!e&&12<=n?t.forEach(function(e){return e.selected=(e.value+=12)===n}):e||t.push(t.shift());var s=t.filter(function(e){return e.selected})[0].text;return o._renderers.select({index:0,type:"hour",value:r,options:t,text:s})},renderMinuteSelect:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:15,t=[],n=l[1],i=0;i<60;i+=e)t.push({text:i<10?"0"+i:i,selected:n===i,disabled:!1,value:i});if(o._opts.timeInput)return o._renderers.input({index:null,type:"minute",value:n<10?"0"+n:n});var a=t.filter(function(e){return e.selected})[0].text;return o._renderers.select({index:null,type:"minute",value:r,options:t,text:a})},renderPeriodSelect:function(){return o._renderers.select({index:null,type:"period",text:12<=l[0]?"PM":"AM",value:r,options:[{text:"AM",value:"am",selected:l[0]<12},{text:"PM",value:"pm",selected:12<=l[0]}]})}})}}}]),e=w;function w(e,t){var n=this;if(i(this,w),"string"==typeof e){if("#"!=e.substr(0,1))return s(e).map(function(e){return new n.constructor(e,t)});e=document.getElementById(e.substr(1))}"input"!==(e=e||document.createElement("input")).tagName.toLowerCase()||/input|hidden/i.test(e.type)||(e.type="text"),this._initDOM(e),this._initOptions(t),this._initEvents(),this.setValue(e.value||e.dataset.value||""),this._opts.onInit&&this._opts.onInit(e)}return e.defaults=t,e});