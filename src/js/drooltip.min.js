(function(){function a(a){if(null!==a.match(/(?![^{]+})(?:\.|#)([_a-zA-Z]+[_a-zA-Z0-9-]*)/)&&""===a.replace(a.match(/(?![^{]+})(?:\.|#)([_a-zA-Z]+[_a-zA-Z0-9-]*)/)[0],"").replace(/ /g,""))return{type:"element",element:a.match(/(?![^{]+})(?:\.|#)([_a-zA-Z]+[_a-zA-Z0-9-]*)/)[0]};if(null!==a.match(/\:(.*)\:/)&&""===a.replace(a.match(/\:(.*)\:/)[0],"")){var b=a.match(/\:(.*)\:/),c=b[1].match(/\[(.*)\]/),d=b[1].replace(c[0],"").replace(/ /g,""),e=c[1].split(",")[0],f=null;return null!==c[1].split(",")[1]&&(f=c[1].split(",")[1].replace(/ /g,"")),{url:e,json:f,type:d}}return a}function b(a,b,c){var d=c.content;if("object"==typeof c.content)if("jsonp"===c.content.type||"ajax"===c.content.type)C[a]={info:{source:b,position:c.position},data:c.content,loaded:!1},d="<div class = 'drooltipLoaderWrapper'><span style='background:"+c.color+"' class = 'drooltipLoader'></span></div>";else if("element"===c.content.type){var e=document.querySelector(c.content.element);null===e?d="HTML element not found":(e.style.display="none",d=e.outerHTML,e.parentNode.removeChild(e))}var f=document.createElement("div");f.setAttribute("data-identifiers",a),f.setAttribute("class","drooltip"),f.setAttribute("style","color: "+c.background),document.body.appendChild(f);var g="";return g+="<div style='background:"+c.background+"' class = 'bg'></div>",g+="<div style='color:"+c.color+"' class = 'content'>",g+=d,g+="</div>",f.innerHTML=g,void 0!==c.content.element&&null!==f.querySelector(c.content.element)&&(f.querySelector(c.content.element).style.display=""),document.querySelector("[data-identifiers='"+a+"']")}function c(a,b){var c="jsonp_callback_"+Math.round(1e5*Math.random());window[c]=function(a){delete window[c],document.body.removeChild(d),b(a)};var d=document.createElement("script");d.src=a+(0<=a.indexOf("?")?"&":"?")+"callback="+c,document.body.appendChild(d)}function d(a,b){var d=C[a].data.type,f=C[a].data.json,g=C[a].data.url,h=C[a].info.source,i=C[a].loaded,j=C[a].info.position;if(!0!==i)if("ajax"===d){var k=new XMLHttpRequest;k.open("GET",g),void 0!==f&&k.setRequestHeader("Content-Type","application/json"),k.onload=function(){if(200===k.status){var c;c=void 0===f?k.responseText:"()"===f.slice(-2)?window[f.replace("()","")](JSON.parse(k.responseText)):JSON.parse(k.responseText)[f],e(a,b,h,j,c)}},k.send()}else"jsonp"===d&&c(g,function(c){var d;d="()"===f.slice(-2)?window[f.replace("()","")](c):c[f],e(a,b,h,j,d)})}function e(a,b,c,d,e){b.querySelector(".content .drooltipLoader").classList.add("stop"),setTimeout(function(){b.querySelector(".content").classList.add("showDynamic"),setTimeout(function(){b.querySelector(".content").innerHTML=e,b.querySelector(".content").classList.remove("showDynamic"),l(b,c,d,{x:0,y:0})},200),C[a].loaded=!0},400)}function f(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function g(a){return null!==a&&a===a.window}function h(a){return g(a)?a:9===a.nodeType&&a.defaultView}function i(a){var b,c,d={top:0,left:0},e=a&&a.ownerDocument;return b=e.documentElement,"undefined"!=typeof a.getBoundingClientRect&&(d=a.getBoundingClientRect()),c=h(e),{top:d.top+c.pageYOffset-b.clientTop,left:d.left+c.pageXOffset-b.clientLeft}}function k(a){var b=window.pageYOffset,c={left:i(a).left,top:i(a).top};return a.classList.add("fake"),c.width=a.offsetWidth,c.height=a.offsetHeight,a.classList.remove("fake"),c}function l(a,b,c){var d=k(b),e=k(a),f={if_top_y:d.top-e.height-6,if_vertical_x:d.left+d.width/2-e.width/2,if_bottom_y:d.top+d.height,if_horizontal_y:d.top+(d.height/2-e.height/2)-6,if_left_x:d.left-e.width,if_right_x:d.left+d.width},g={top:{y_pos:f.if_top_y,x_pos:f.if_vertical_x},bottom:{y_pos:f.if_bottom_y,x_pos:f.if_vertical_x},right:{y_pos:f.if_horizontal_y,x_pos:f.if_right_x},left:{y_pos:f.if_horizontal_y,x_pos:f.if_left_x}},h=Object.keys(g)[m(f,e,c)];a.classList.remove(...["top","bottom","right","left"]),a.classList.add(h),Object.assign(a.style,{left:g[h].x_pos+"px",top:g[h].y_pos+"px"})}function m(a,b,c){var d=window.pageYOffset,e=window.innerWidth,f=window.innerHeight,g=[0,0,0,0];return d<a.if_top_y&&(g[0]+=1,"top"===c&&(g[0]+=2)),(d>a.if_top_y||d<a.if_bottom_y)&&(g[1]+=1,"bottom"===c&&(g[1]+=2)),(0>a.if_vertical_x||"right"===c&&a.if_right_x+b.width<e)&&(g[2]+=1,"right"===c&&(g[2]+=2)),0<a.if_left_x&&(g[3]+=1,"left"===c&&(g[3]+=2)),g.indexOf(Math.max.apply(Math,g))}function n(){var a=this,b=a.tooltip,c=a.options,e=c.callback,f=c.animation;l(a.tooltip,a.source,a.options.position),setTimeout(function(){b.classList.remove("hideTooltip"),!1===b.classList.contains("open")&&(-1===D.indexOf(f)?window[f]("animate",a,e):r(b,f,e)),b.classList.add("open"),setTimeout(function(){("ajax"===c.content.type||"jsonp"===c.content.type&&!1===C[a.id].loaded)&&(b.style.transition="none",d(a.id,b),element.style.transition="")},500)},200)}function o(){var a=this,b=a.tooltip,c=a.options,d=c.callback,e=c.animation,f=0;!1!==b.classList.contains("animating")&&(f=400),setTimeout(function(){!0===b.classList.contains("open")&&(-1===D.indexOf(e)?window[e]("deanimate",a,d):s(b,e),b.classList.remove("open"))},f)}function p(a,b,c){"animate"===a?(r(b,"bounce",null),setTimeout(function(){b.classList.add("drooltipFloat"),null!==c&&c!==void 0&&window[c]()},100)):(b.classList.remove("drooltipFloat"),s(b,"bounce"))}function q(a,b){"animate"===a?(b.classList.add("drooltipMaterial"),setTimeout(function(){b.classList.remove("hideTooltip"),setTimeout(function(){b.classList.add("animate"),setTimeout(function(){t(b,"show")},100)},200)},100)):(t(b,"hide"),setTimeout(function(){b.classList.remove("animate"),setTimeout(function(){b.classList.remove("drooltipMaterial"),b.classList.add("hideTooltip")},100)},200))}function r(a,b,c){if("material"===b)return q("animate",a,c),!1;if("float"===b)return p("animate",a,c),!1;var d="drooltip"+b[0].toUpperCase()+b.slice(1);a.classList.remove("out"),a.classList.add(d,"animating"),t(a,"show"),setTimeout(function(){a.classList.remove("hideTooltip"),setTimeout(function(){a.classList.remove(d,"animating")},200),null!==c&&c!==void 0&&window[c]()},200)}function s(a,b){if("material"===b)return q("deanimate",a),!1;if("float"===b)return p("deanimate",a),!1;var c="drooltip"+b[0].toUpperCase()+b.slice(1);a.classList.add(c),a.classList.add("out"),t(a,"hide"),setTimeout(function(){a.classList.add("hideTooltip"),a.classList.remove(c)},400)}function t(a,b){"show"===b?a.classList.add("showArrow"):a.classList.remove("showArrow")}function u(a,b){return-1===["hover","click","none"].indexOf(b)?"undefined"==typeof window[b]?(console.warn(`Custom trigger '${b}' is not registerd`),!1):(window[b].call(this,a),!1):void(a.tooltip.classList.add("hideTooltip"),"hover"===b?v(a):"click"===b?w(a):"none"==b&&n.call(a))}function v(a){(function(a){var b=null,c=null;window.addEventListener("mouseover",function(b){a.source.contains(b.target)||a.tooltip.contains(b.target)?clearTimeout(c):c=setTimeout(function(){a.tooltip.classList.contains("open")&&o.call(a)},200)}),a.source.addEventListener("mouseenter",function(){b=setTimeout(function(){n.call(a)},200)}),a.source.addEventListener("mouseleave",function(){clearTimeout(b)})})(a)}function w(a){window.addEventListener("click",function(b){a.source.contains(b.target)||a.tooltip.contains(b.target)?n.call(a):o.call(a)})}function x(a,b){"animate"===a?n.call(b):o.call(b)}function y(a){var b=this.tooltips;for(var c in b)"animate"===a?n.call(b[c],this.tooltips[c].options):o.call(b[c],this.tooltips[c].options)}function z(a){var b=this.tooltips;for(var c in b)"show"===a?b[c].tooltip.classList.remove("hideTooltip"):b[c].tooltip.classList.add("hideTooltip")}function A(a){var b=a.source,c=a.tooltip,d=a.options,e=d.trigger;c.classList.add("loaded"),u.call(this,a,e)}window.Drooltip=function(){this.tooltips={};arguments[0]&&"object"==typeof arguments[0]&&(this.options=f({element:".drooltip",trigger:"hover",position:"top",background:"#2175ff",color:"#fff",animation:"bounce",content:null,callback:null},arguments[0])),this.build()};var B={},C={},D=["bounce","fade","material","float"];Drooltip.prototype.build=function(){let c=null,d=this.options.element,e=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,8);"string"==typeof d?(c=document.querySelectorAll(d),e=d):c=(a=>{let b;return a.setAttribute("wrapNodeList",""),b=document.querySelectorAll("[wrapNodeList]"),a.removeAttribute("wrapNodeList"),b})(d);var f=this;B[e]={},this.tooltips={};for(var g=0;g<c.length;++g){c[g].setAttribute("data-id",g);var h=Object.assign({},this.options),j=c[g].getAttribute("title");if(null!==j&&""!==j&&(h.content=a(j),c[g].removeAttribute("title")),null!==h.content){var k=b(e+"_"+g,c[g],h);B[e][g]={id:e+"_"+g,source:c[g],tooltip:k,options:h},this.tooltips[g]={id:e+"_"+g,source:c[g],tooltip:k,options:h}}A.call(f,this.tooltips[g])}},Drooltip.prototype.animateAllTooltips=function(){y.call(this,"animate")},Drooltip.prototype.deanimateAllTooltips=function(){y.call(this,"deanimate")},Drooltip.prototype.animateTooltip=function(a){x.call(this,"animate",a)},Drooltip.prototype.deanimateTooltip=function(a){x.call(this,"deanimate",a)},Drooltip.prototype.hideAllTooltips=function(){z.call(this,"hide")},Drooltip.prototype.showAllTooltips=function(){z.call(this,"show")},Drooltip.prototype.hideTooltip=function(a){a.classList.add("hideTooltip")},Drooltip.prototype.showTooltip=function(a){a.classList.remove("hideTooltip")},Drooltip.prototype.addStandardEffect=function(a,b){r(a,b)},Drooltip.prototype.removeStandardEffect=function(a,b){s(a,b)},Drooltip.prototype.showArrow=function(a){t(a,"show")},Drooltip.prototype.hideArrow=function(a){t(a,"hide")},Drooltip.prototype.loadRequests=function(){for(var a in C){var b=document.querySelector("[data-identifiers='"+a+"']");d(C[a],b)}},Drooltip.prototype.setTooltipsPos=function(){this;for(var a in B)for(var b in B[a]){var c=B[a][b],d=c.options.position,e=c.source,f=c.tooltip,g=k(e),h=k(f);l(f,e,d)}},Drooltip.prototype.updatePosition=function(a){l(a.tooltip,a.source,a.options.position)}})(),window.onload=function(){Drooltip.prototype.setTooltipsPos(),window.addEventListener("scroll",function(){Drooltip.prototype.setTooltipsPos()},!0),window.onresize=function(){Drooltip.prototype.setTooltipsPos()}};