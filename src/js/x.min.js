!function(){"use strict";function e(e,t){if(Array.isArray(t))t=t.join(" ");else if("function"==typeof t)t=t();else if("object"==typeof t&&null!==t)return function(e,t){let n=Object.entries(t),r=e=>e.split(" ").filter(Boolean),s=n.flatMap((([e,t])=>!!t&&r(e))).filter(Boolean),a=n.flatMap((([e,t])=>!t&&r(e))).filter(Boolean);const i=s.filter((t=>!e.classList.contains(t)&&(e.classList.add(t),!0))),o=a.filter((t=>e.classList.contains(t)&&(e.classList.remove(t),!0)));return()=>{o.forEach((t=>e.classList.add(t))),i.forEach((t=>e.classList.remove(t)))}}(e,t);return function(e,t){let n=t=>t.split(" ").filter((t=>!e.classList.contains(t))).filter(Boolean),r=t=>(e.classList.add(...t),()=>e.classList.remove(...t));return r(n(t=!0===t?"":t||""))}(e,t)}function t(e,n){return"object"==typeof n&&null!==n?function(e,n){let r={};return Object.entries(n).forEach((([t,n])=>{r[t]=e.style[t],t.startsWith("--")||(t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),e.style.setProperty(t,n)})),setTimeout((()=>0===e.style.length&&e.removeAttribute("style"))),()=>t(e,r)}(e,n):((e,t)=>{let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}})(e,n)}function n(e,t,n){let r;return function(){let s=this,a=arguments,i=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(s,a)}),t),i&&e.apply(s,a)}}function r(e,t,n={},r=!1){return e=r?`with($data){${e}}`:/^[a-z][a-z\d]*(-[a-z\d]+)+$/.test(e)?`var result;with($data){result=$data['${e}']};return result`:`var result;with($data){result=${e}};return result`,new Function(["$data",...Object.keys(n)],e)(t,...Object.values(n))}function s(e){const t=/^(x-|x.|@|:)/;return[...e.attributes].filter((({name:e})=>t.test(e))).map((({name:e,value:n})=>{const r=e.match(t)[0],s=e.replace(r,""),a=s.split(".");return{name:e,directive:"x-"===r?e:":"===r?"x-bind":"",event:"@"===r?a[0]:"",expression:n,prop:"x."===r?a[0]:"",modifiers:"x."===r?a.slice(1):s.split(".").slice(1)}}))}function a(n,r,s){"value"===r?"radio"===n.type?n.checked=n.value===s:"checkbox"===n.type?n.checked=Array.isArray(s)?s.some((e=>e===n.value)):!!s:"SELECT"===n.tagName?function(e,t){const n=[].concat(t).map((e=>e+""));Array.from(e.options).forEach((e=>{e.selected=n.includes(e.value||e.text)}))}(n,s):n.value=s:"class"===r?function(t,n){t._x_undoAddedClasses&&t._x_undoAddedClasses();t._x_undoAddedClasses=e(t,n)}(n,s):"style"===r?function(e,n){e._x_undoAddedStyles&&e._x_undoAddedStyles();e._x_undoAddedStyles=t(e,n)}(n,s):["disabled","readonly","required","checked","autofocus","autoplay","hidden"].includes(r)?s?n.setAttribute(r,""):n.removeAttribute(r):n.setAttribute(r,s)}function i(e,t={}){return new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0})}function o(e,t,n=""){return e[e.indexOf(t)+1]||n}function l(e,t){t(e);let n=e.firstElementChild;for(;n;){if(n.hasAttribute("x-data"))return;l(n,t),n=n.nextElementSibling}}function c(e,t){const n=[];return l(e,(a=>{s(a).forEach((s=>{let{modifiers:i,prop:o,name:l}=s;if(o){if("checkbox"===a.type&&void 0===t[o]&&(t[o]=e.querySelectorAll(`[${CSS.escape(l)}]`).length>1?[]:""),function(e){return["input","select","textarea"].includes(e.tagName.toLowerCase())}(a)){let e=u(a,t,o,i),n=void 0!==t[o]?t[o]:null,s=r(e,t,{$el:a});t[o]=n&&(""===(c=s)||null===c||Array.isArray(c)&&0===c.length||"object"==typeof c&&0===Object.keys(c).length)?n:s}n.push({el:a,attribute:s})}var c}))})),document.dispatchEvent(i("x:fetched",{data:t,fetched:n})),t}function u(e,t,n,r){let s,a=e.tagName.toLowerCase();return s="checkbox"===e.type?Array.isArray(t[n])?`$el.checked ? ${n}.concat([$el.value]) : [...${n}.splice(0, ${n}.indexOf($el.value)), ...${n}.splice(${n}.indexOf($el.value)+1)]`:"$el.checked":"radio"===e.type?`$el.checked ? $el.value : (typeof ${n} !== 'undefined' ? ${n} : '')`:"select"===a&&e.multiple?`Array.from($el.selectedOptions).map(option => ${r.includes("number")?"parseFloat(option.value || option.text)":"option.value || option.text"})`:r.includes("number")?"parseFloat($el.value)":r.includes("trim")?"$el.value.trim()":"$el.value",e.hasAttribute("name")||e.setAttribute("name",n),`$data['${n}'] = ${s}`}class d{constructor(e){this.el=e,this.rawData=r(e.getAttribute("x-data")||"{}",{}),this.rawData=c(e,this.rawData),this.data=this.wrapDataInObservable(this.rawData),this.initialize(e,this.data)}evaluate(e,t){let n=[];return{output:r(e,new Proxy(this.data,{get(e,t){return n.push(t),e[t]}}),t),deps:n}}wrapDataInObservable(e){let t=this;return t.concernedData=[],new Proxy(e,{set(e,n,r){const s=Reflect.set(e,n,r);return-1===t.concernedData.indexOf(n)&&t.concernedData.push(n),t.refresh(),s}})}initialize(e,t,n){const r=this;l(e,(e=>{s(e).forEach((s=>{let{directive:i,event:o,expression:l,modifiers:c,prop:d}=s;if(o&&r.registerListener(e,o,c,l),d){let s=["select-multiple","select","checkbox","radio"].includes(e.type)||c.includes("lazy")?"change":"input";r.registerListener(e,s,c,u(e,t,d,c));let{output:i}=r.evaluate(d,n);a(e,"value",i)}if(i in x.directives){let t=l;if("x-for"!==i)try{({output:t}=r.evaluate(l,n))}catch(e){}x.directives[i](e,t,s,x,r)}}))}))}refresh(){const e=this;n((()=>{l(e.el,(t=>{s(t).forEach((n=>{let{directive:r,expression:s,prop:o}=n;if(o){let{output:r,deps:s}=e.evaluate(o);e.concernedData.filter((e=>s.includes(e))).length>0&&(a(t,"value",r),document.dispatchEvent(i("x:refreshed",{attribute:n,output:r})))}if(r in x.directives){let a=s,i=[];if("x-for"!==r)try{({output:a,deps:i}=e.evaluate(s))}catch(e){}else[,i]=s.split(" in ");e.concernedData.filter((e=>i.includes(e))).length>0&&x.directives[r](t,a,n,x,e)}}))})),e.concernedData=[]}),0)()}registerListener(e,t,r,s){const a=this,l=[];function c(i){r.includes("prevent")&&i.preventDefault(),r.includes("stop")&&i.stopPropagation();let u=0;if(r.includes("delay")){const e=o(r,"delay").split("ms")[0];u=isNaN(e)?250:Number(e)}n((()=>{a.runListenerHandler(s,i),r.includes("once")&&(e.removeEventListener(t,c),i instanceof IntersectionObserverEntry&&function(e){const t=l.findIndex((t=>t.el===e));if(t>=0){const{observer:n}=l[t];n.unobserve(e),l.splice(t,1)}}(i.target))}),u)()}if(r.includes("outside"))document.addEventListener(t,(t=>{e.contains(t.target)||e.offsetWidth<1&&e.offsetHeight<1||this.runListenerHandler(s,t)}));else if("load"===t)c(i("load",{}));else if("intersect"===t){const t=new IntersectionObserver((e=>e.forEach((e=>e.isIntersecting&&c(e)))));t.observe(e),l.push({el:e,observer:t})}else e.addEventListener(t,c)}runListenerHandler(e,t){const n={};Object.keys(x.methods).forEach((e=>n[e]=x.methods[e](t,t.target)));let s={},a=t.target;for(;a&&!(s=a.__x_for_data);)a=a.parentElement;r(e,this.data,{$el:t.target,$event:t,$refs:this.getRefsProxy(),...s,...n},!0)}getRefsProxy(){let e=this;return new Proxy({},{get(t,n){let r;return l(e.el,(e=>{e.hasAttribute("x-ref")&&e.getAttribute("x-ref")===n&&(r=e)})),r}})}}const f={directives:{},methods:{},start:async function(){await new Promise((e=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()})),this.discoverComponents((e=>this.initializeElement(e))),this.listenUninitializedComponentsAtRunTime((e=>this.initializeElement(e)))},discoverComponents:e=>{Array.from(document.querySelectorAll("[x-data]")).forEach(e)},listenUninitializedComponentsAtRunTime:e=>{new MutationObserver((t=>t.forEach((t=>Array.from(t.addedNodes).filter((e=>1===e.nodeType&&e.matches("[x-data]"))).forEach(e))))).observe(document.querySelector("body"),{childList:!0,attributes:!0,subtree:!0})},initializeElement:e=>{e.__x=new d(e)}},p=(e,t)=>{if(e){if("cookie"===t){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()\[\]\\\/+^])/g,"\\$1")+"=([^;]*)"));if(t){let e=decodeURIComponent(t[1]);try{return JSON.parse(e)}catch(t){return e}}}return"local"===t?localStorage.getItem(e):void 0}},h=(e,t,n,r={path:"/"})=>{if(e){if(t instanceof Object&&(t=JSON.stringify(t)),"cookie"===n){(r=r||{}).expires instanceof Date&&(r.expires=r.expires.toUTCString());let n=encodeURIComponent(e)+"="+encodeURIComponent(t);for(let e in r){n+="; "+e;let t=r[e];!0!==t&&(n+="="+t)}document.cookie=n}"local"===n&&(t?localStorage.setItem(e,t):localStorage.removeItem(e))}};function m(e){let t=e.charAt(e.length-1),n=parseInt(e,10);const r={y:"FullYear",m:"Month",d:"Date",h:"Hours",i:"Minutes",s:"Seconds"};if(t in r){const e=new Date,s=r[t];return e[`set${s}`](e[`get${s}`]()+n),e}return null}function y(e){return["cookie","local"].some((t=>e.includes(t)))}function v(e){return e.includes("cookie")?"cookie":"local"}document.addEventListener("x:refreshed",(({detail:e})=>{const{modifiers:t,prop:n}=e.attribute;if(y(t)){const r=v(t),s=o(t,r);e.output?h(n,e.output,r,{expires:m(s),secure:!0}):h(n,null,r,{expires:new Date,path:"/"})}})),document.addEventListener("x:fetched",(({detail:e})=>{const{data:t,fetched:n}=e;n.forEach((e=>{const{attribute:{modifiers:n,prop:r}}=e;if(y(n)){const e=v(n),s=p(r,e);t[r]=function(e,t){switch(typeof e){case"string":return String(t);case"number":return Number.isInteger(e)?parseInt(t,10):parseFloat(t);case"boolean":return Boolean(t);case"object":return e instanceof Date?new Date(t):Array.isArray(e)?Array.from(t):Object(t);case"undefined":return null===e?null:"true"===t||"false"!==t&&t;default:return t}}(t[r],s||t[r])}}))}));function b(e,t){e=`x-${e}`,f.directives[e]?console.warn(`X.js: directive '${e}' is already exists.`):f.directives[e]=t}b("for",((e,t,n,s,a)=>{if("string"!=typeof t)return;const[,i,o="key",l]=t.match(/^\(?(\w+)(?:,\s*(\w+))?\)?\s+in\s+(\w+)$/)||[],c=r(`${l}`,a.data);for(;e.nextSibling;)e.nextSibling.remove();c.forEach(((t,n)=>{const r=e.cloneNode(!0);r.removeAttribute("x-for"),(async()=>{r.__x_for_data={[i]:t,[o]:n},await a.initialize(r,a.data,r.__x_for_data),e.parentNode.appendChild(r)})()}))})),b("bind",((e,t,{name:n},r,s)=>{":attributes"===n&&"object"==typeof t?Object.entries(t).forEach((([t,n])=>a(e,t,n))):a(e,n.replace(":",""),t)})),b("html",((e,t,n,r,s)=>{e.innerHTML=t})),b("text",((e,t,n,r,s)=>{e.innerText=t})),b("show",((e,t,n,r,s)=>{e.style.display=t?"block":"none"}));const g=1048576;var $,w;function A(e,t){const{loaded:n=0,total:r=0,type:s}=e,{response:a="",responseText:i="",status:o="",responseURL:l=""}=t;return{blob:new Blob([a]),json:JSON.parse(i||"[]"),raw:a,status:o,url:l,loaded:E(n),total:E(r),percent:r>0?Math.round(n/r*100):0,start:"loadstart"===s,progress:"progress"===s,end:"loadend"===s}}function E(e){return Math.round(e/g*100)/100}w=(e,t)=>(e,n={},r)=>{let s=t.tagName.toLowerCase(),a="form"===s?"post":"get",i="form"===s?new FormData(t):new FormData,o=new XMLHttpRequest;switch(s){case"form":Array.from(t.querySelectorAll("input[type='file']")).forEach((e=>{e.files&&[...e.files].forEach((t=>i.append(e.name,t)))}));break;case"textarea":case"select":case"input":"file"===t.type&&t.files?Array.from(t.files).forEach((e=>i.append(t.name,e))):t.name&&i.append(t.name,t.value)}return new Promise((t=>{o.open(a,e);for(const e in n.headers)o.setRequestHeader(e,n.headers[e]);o.withCredentials="include"===n.credentials,o.onloadstart=o.upload.onprogress=e=>r?.(A(e,o)),o.onloadend=e=>t((()=>r?.(A(e,o)))),o.send(i)})).then((e=>e()))},$=`$${$="fetch"}`,f.methods[$]?console.warn(`X.js: method '${$}' is already exists.`):f.methods[$]=w,window.x=f,window.x.start()}();